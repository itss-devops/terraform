<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Provisioning AWS Infrastructure for Security and Continuous Delivery with Terraform</title>
        <link rel="stylesheet" href="./css/reveal.min.css">
        <link rel="stylesheet" href="css/theme/devops.css" id="theme">
        <link rel="stylesheet" href="./lib/css/zenburn.css">
        <link rel="stylesheet" href="css/custom.css" id="custom">
        <script>
           document.write('<link rel="stylesheet" href="./css/print/' + (window.location.search.match(/print-pdf/gi) ? 'pdf' : 'paper') + '.css" type="text/css" media="print">');
         </script>
    </head>

    <body>
      <div class="reveal">
        <div class="slides">
          <!-- Page 1 -->
          <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>Provisioning AWS Infrastructure<br>for Continuous Delivery<br>with Terraform</h1>
            <p>ITSS DevOps, SMIC 2020</p>
            <img width="252" height="235" src="img/devopslogo.jpg" alt="ITSS DEVOPS">
            <p style="font-size: 28px;"><a href="#">@itssdevops</a></p>
            <p style="font-size: 28px;"><a href="mailto:devops-admin@sminvestments.com">devops-admin@sminvestments.com</a></p>
            <aside class="notes">
            </aside>
          </section>

          <!-- Let's Get Started -->
          <section data-background-image="img/devs.jpg" style="width: 100%; height: 100%;">
            <h1 class="layer">Let's Get Started!</h1>
          </section>

          <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>What you need to know about <br> Infrastructure as Code</h1>
            <br>
              <ul class="fragment" data-fragment-index="1" style="zoom:1; *display: inline; _height: 30px; list-style-type: none;">
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Defined in code</li>
              </ul>
              <ul class="fragment" data-fragment-index="2" style="zoom:1; *display: inline; _height: 30px; list-style-type: none;">
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(92, 214, 92);">&nbsp;Stored in source code</li>
              </ul>
              <ul class="fragment" data-fragment-index="3" style="zoom:1; *display: inline; _height: 30px; list-style-type: none;">
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(204, 204, 0);">&nbsp;Declarative or Imperative</li>
              </ul>
            <aside class="notes">
            </aside>
          </section>

          <!-- Declarative or Imperative -->
          <section data-background-video="../mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>Declarative or Imperative</h1>
            <br>
            <div class="fragment" data-fragment-index="1" style="zoom:1; *display: inline; _height: 30px; list-style-type: none;">
              <h2> Make me a Taco </h2>
              <img src="img/taco.png" width="500px" style="float: left; background:none; border:none; box-shadow:none; position: absolute; top: 52%; left: -20%;">
            </div>
            <ul>
              <li class="fragment" style="font-size: 40px !important;">&nbsp;get shell</li>
              <li class="fragment" style="font-size: 40px !important;">&nbsp;get beef</li>
              <li class="fragment" style="font-size: 40px !important;">&nbsp;get cheese</li>
              <li class="fragment" style="font-size: 40px !important;">&nbsp;get lettuce</li>
              <li class="fragment" style="font-size: 40px !important;">&nbsp;get salsa</li>
            </ul>
            <aside class="notes">
            </aside>
          </section>

          <!-- Declarative or Imperative part 2 -->
          <section data-background-video="../mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>Declarative or Imperative</h1>
            <br>
            <h2> Make me a Taco </h2>
            <img src="img/taco.png" width="500px" style="float: left; background:none; border:none; box-shadow:none; position: absolute; top: 52%; left: -20%;">
            <pre>
              <code data-trim contenteditable style="font-size: 40px; margin-top: 20px; max-height: 800px;">
                food taco "bean-taco" {







                }
              </code>
            </pre>
            <aside class="notes">
            </aside>
          </section>

          <!-- Declarative or Imperative part 3 -->
          <section data-background-video="../mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>Declarative or Imperative</h1>
            <br>
            <h2> Make me a Taco </h2>
            <img src="img/taco.png" width="500px" style="float: left; background:none; border:none; box-shadow:none; position: absolute; top: 52%; left: -20%;">
            <pre>
              <code data-trim contenteditable style="font-size: 40px; margin-top: 20px; max-height: 800px;">
                food taco "bean-taco" {

                  ingredients = [

                    "beef", "cheese", "salsa"

                  ]

                }
              </code>
            </pre>
            <aside class="notes">
            </aside>
          </section>

          <!-- TERRAFORM-->
          <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>Terraform</h1>
            <img width="235" height="235" src="img/tflogo.png" alt="Terraform">
            <br>
            <br>
            <h2>is an example of a Declarative approach<br>in deploying Infrastructure as Code</h2>
            <p style="font-size: 28px;">&nbsp;</p>
            <p style="font-size: 28px;">&nbsp;</p>
            <aside class="notes">
            </aside>
          </section>

          <!-- What does it do?-->
          <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>What does it do?</h1>
            <ul>
              <li class="fragment" style="font-size: 50px !important;">Automated Deployment (takes the human out of the equation)</li>
              <li class="fragment" style="font-size: 50px !important;">Consistent environments</li>
              <li class="fragment" style="font-size: 50px !important;">Repeatable process</li>
              <li class="fragment" style="font-size: 50px !important;">Reusable templates/components</li>
              <li class="fragment" style="font-size: 50px !important;">Documented architecture</li>
            </ul>
            <p style="font-size: 28px;">&nbsp;</p>
            <p style="font-size: 28px;">&nbsp;</p>
            <img src="img/tflogo.png" width="300px" style="float: left; background:none; border:none; box-shadow:none; position: absolute; top: 52%; left: -20%;">
            <aside class="notes">
            </aside>
          </section>

          <!-- Principle -->
          <section data-background-video="../mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>Developer's Principle</h1>
            <img width="100%" height="80%" src="img/DRY.png" alt="Terraform">
            <aside class="notes">
            </aside>
          </section>

          <!-- Summary -->
          <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>Summary</h1>
            <ul>
              <li class="fragment" style="font-size: 50px !important;">IaC isn't scary</li>
              <li class="fragment" style="font-size: 50px !important;">Manual processes are the enemy</li>
              <li class="fragment" style="font-size: 50px !important;">When in doubt, have a taco</li>
              <li class="fragment" style="font-size: 50px !important;">Coming up next...</li>
            </ul>
            <p class="fragment" style="font-size: 40px; color:yellow"> - Deploy a Terraform Configuration</p>
            <aside class="notes">
            </aside>
          </section>

          <!-- Deploy Terraform -->
          <section data-background-image="img/tf.png" style="width: 100%; height: 100%;">
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <h1>Deploying your first Terraform Configuration</h1>
          </section>

          <!-- Scenario-->
          <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>The Scenario</h1>
            <br>
            <ul>
              <li class="fragment" style="font-size: 50px !important;">Basic two-tier application</li>
              <li class="fragment" style="font-size: 50px !important;">web front end</li>
              <li class="fragment" style="font-size: 50px !important;">database back end</li>
              <li class="fragment" style="font-size: 50px !important;">public DNS record</li>
            </ul>
            <aside class="notes">
            </aside>
          </section>


















          <!-- Page 2 -->
          <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>Let the cloud vendor cover your *aaS</h1>
              <ul class="fragment" data-fragment-index="1" style="zoom:1; *display: inline; _height: 30px; list-style-type: none;">
                <h3>On premises</h3>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Applications</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Data</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Runtime</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;OS</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Virtualization&nbsp;</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Servers</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Storage</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Network</li>
              </ul>
              <ul class="fragment" data-fragment-index="2" style="zoom:1; *display: inline; _height: 30px; list-style-type: none;">
                <h3>IaaS (host)</h3>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Applications</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Data</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Runtime</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;OS</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Virtualization&nbsp;</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Servers</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Storage</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Network</li>
              </ul>
              <ul class="fragment" data-fragment-index="3" style="zoom:1; *display: inline; _height: 30px; list-style-type: none;">
                <h3>PaaS (build)</h3>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Applications</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgb(51, 153, 255);">&nbsp;Data</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Runtime</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;OS</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Virtualization&nbsp;</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Servers</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Storage</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Network</li>
              </ul>
              <ul class="fragment" data-fragment-index="4" style="zoom:1; *display: inline; _height: 30px; list-style-type: none;">
                <h3>SaaS (consume)</h3>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Applications</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Data</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Runtime</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Os</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Virtualization&nbsp;</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Servers</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Storage</li>
                <li style="box-shadow: -5px 4px 25px rgba(255, 255, 255, 0.5); background: rgba(51, 153, 255, 0.5);">&nbsp;Network</li>
              </ul>

              <div class="mb-frame fragment"></div>

              <aside class="notes">
                <ul>
                  <li>Security ”of” the cloud vs ”in” the cloud</li>
                  <li>Iaas &rarr; PaaS and SaaS</li>
                </ul>
              </aside>
          </section>

          <!-- Page 3 -->
          <section data-background-image="img/public-cloud.jpg" style="width: 100%; height: 100%;">
            <h1 class="layer">Use <b>public</b> cloud!</h1>
            <aside class="notes">
            </aside>
          </section>

          <!-- Page 4 -->
          <section data-background-image="img/aws-services.png" style="width: 100%; height: 100%;">
            <div class="layer" style="position: relative; top: 40%; left: 50%; transform: translateX(-50%) translateY(-50%);">
              <h1>Use services</h1>
              <h2>instead of rolling your own</h2>
            </div>
            <aside class="notes">
            </aside>
          </section>

          <!-- Page 5 -->
          <section data-background-video="mov/automate.mp4" data-background="#000000" style="width: 100%; height: 100%;">
            <div style="position: relative; top: 40%; left: 50%; transform: translateX(-50%) translateY(-50%);">
              <h1>Automate against APIs</h1>
              <h2>(no clicking in GUI or fiddling in prod)</h2>
            </div>
            <aside class="notes">Ó
            </aside>
          </section>





          <!-- Page 8 -->
          <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>IaaS</h1>
            <ul>
              <div class="fragment">
                <h2><code>./infrastructure</code></h2>
                <li>Networking</li>
                <ul>
                  <li>VPC</li>
                  <li>Availability zones</li>
                  <li>Public and private subnets</li>
                  <li>Internet gateway</li>
                  <li>NAT</li>
                  <li>Security groups (FW rules)</li>
                </ul>
              </div>
              <li class="fragment">Bastion host</li>
            </ul>
            <aside class="notes">
            </aside>
          </section>

         <!-- Page 9 (layout) -->
         <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
           <h2>Layout</h2>
              <pre>
                <code data-trim contenteditable style="font-size: 18px; margin-top: 20px; max-height: 1000px;">
                ./infrastructure
                ├── &lt;environment&gt;
                │   ├── main.tf
                │   └── vars.tf
                └── modules
                    ├── vpc
                    │   ├── main.tf
                    │   ├── outputs.tf
                    │   └── vars.tf
                    ├── subnets
                    │   ├── main.tf
                    │   ├── outputs.tf
                    │   └── vars.tf
                    ├── security-groups
                    │   ├── main.tf
                    │   └── vars.tf
                    ├── instance
                    │   ├── main.tf
                    │   ├── outputs.tf
                    │   └── vars.tf
                    ├── ...
                  </code>
                </pre>
            <aside class="notes">
            </aside>
          </section>

          <!-- Page 10 -->
          <!-- <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h1>SaaS</h1>
            <h2><code>./app-infrastructure</code></h2>
            <ul>
              <li>RDS - Relational Database Service</li>
              <li>Route53 (DNS)</li>
              <li>Certificate Manager (SSL/TLS certificates)</li>
              <li>EFS - Elastic File System (NFS)</li>
              <li>S3 (Scalable storage)</li>
              <li>CloudWatch (monitoring, events, logs)</li>
              <li>CloudTrail (audit)</li>
              <li>IAM (Identity &amp; Access Management)</li>
            </ul>
            <aside class="notes">
            </aside>
          </section> -->


          <!-- Page 11 -->
          <!-- <section data-background-video="./mov/bgvideo.mp4" data-background-video-loop="true" style="width: 100%; height: 100%;">
            <h2>Layout</h2>
            <pre>
              <code data-trim contenteditable style="font-size: 18px; margin-top: 20px; max-height: 1000px;">
                ./app-infrastructure
                └── modules
                    ├── rds
                    │   ├── main.tf
                    │   ├── outputs.tf
                    │   └── vars.tf
                    └── security_groups
                        ├── main.tf
                        ├── outputs.tf
                        └── vars.tf
              </code>
          </pre>
            <aside class="notes"></aside>
          </section> -->



          <!-- Install TF -->
          <section>
            <h1> Installing Terraform <h1>
          </section>





        </div>
      </div>








        <script src="./lib/js/head.min.js"></script>
        <script src="./js/reveal.min.js"></script>

        <script>
          // Full list of configuration options available here:
          // https://github.com/hakimel/reveal.js#configuration
          Reveal.initialize({
            controls: false,
            progress: true,
            history: true,
            center: true,
            width: 1280,
            height: 960,

            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'none', // default/cube/page/concave/zoom/linear/fade/none

            // Optional libraries used to extend on reveal.js
            dependencies: [{
                src: '../lib/js/classList.js',
                condition: function() {
                  return !document.body.classList;
                }
              },
              {
                src: '../plugin/markdown/marked.js',
                condition: function() {
                  return !!document.querySelector('[data-markdown]');
                }
              },
              {
                src: '../plugin/markdown/markdown.js',
                condition: function() {
                  return !!document.querySelector('[data-markdown]');
                }
              },
              {
                src: '../plugin/highlight/highlight.js',
                async: true,
                callback: function() {
                  hljs.initHighlightingOnLoad();
                }
              },
              {
                src: '../plugin/zoom-js/zoom.js',
                async: true,
                condition: function() {
                  return !!document.body.classList;
                }
              },
              {
                src: 'plugin/notes/notes.js',
                async: true,
                condition: function() {
                  return !!document.body.classList;
                }
              }
            ]
          });
        </script>

    </body>
</html>
